<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-C0MMVCYTBC"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-C0MMVCYTBC', {
        'send_page_view': true,
        'cookie_flags': 'SameSite=None;Secure'
      });
      
      console.log('‚úÖ Google Analytics initialized');
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Cloud Skills Boost Calculator</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body>
    <div class="container">
        <header class="header">
            <p class="subtitle">GDG On Campus Poornima University</p>
            <h1>üåü Cloud Study Jams Calculator</h1>
            
            <!-- Countdown Timer -->
            <div class="countdown-container">
                <div class="countdown-label">‚è∞ Program Ends In:</div>
                <div class="countdown-timer" id="countdownTimer">
                    <div class="countdown-segment">
                        <span class="countdown-value" id="days">00</span>
                        <span class="countdown-unit">Days</span>
                    </div>
                    <div class="countdown-separator">:</div>
                    <div class="countdown-segment">
                        <span class="countdown-value" id="hours">00</span>
                        <span class="countdown-unit">Hours</span>
                    </div>
                    <div class="countdown-separator">:</div>
                    <div class="countdown-segment">
                        <span class="countdown-value" id="minutes">00</span>
                        <span class="countdown-unit">Minutes</span>
                    </div>
                    <div class="countdown-separator">:</div>
                    <div class="countdown-segment">
                        <span class="countdown-value" id="seconds">00</span>
                        <span class="countdown-unit">Seconds</span>
                    </div>
                </div>
            </div>
            
            <a href="https://docs.google.com/spreadsheets/d/1oRxxuOzsZaBhH73LKpECkP7lBjpqruAu5ONWivn_PvA/edit?usp=sharing" target="_blank" rel="noopener noreferrer" class="solution-sheet-btn">
                üìã Solution Sheet
            </a>
            <p class="creator">Created by: <a id="creatorLink" href="https://www.linkedin.com/in/piyush-agarwal-079019345/" target="_blank" rel="noopener noreferrer">Piyush Agarwal</a></p>
        </header>

        <main class="main">
            <!-- Profile Input Section -->
            <section class="input-section">
                <div class="card">
                    <h2>üìä Enter Your Email</h2>
                    <form id="profileForm" class="profile-form">
                        <div class="input-group">
                            <label for="userEmail">Your Registered Email Address:</label>
                            <input 
                                type="email" 
                                id="userEmail" 
                                name="userEmail" 
                                placeholder="your.email@example.com"
                                required
                            >
                            <small class="help-text">
                                Enter the email address you used to register for Cloud Study Jams
                            </small>
                        </div>
                        <button type="submit" id="calculateBtn" class="btn btn-primary">
                            <span class="btn-text">Calculate Points</span>
                            <div class="spinner" style="display: none;"></div>
                        </button>
                    </form>
                </div>
            </section>

            <!-- Loading Section -->
            <section id="loadingSection" class="loading-section" style="display: none;">
                <div class="card">
                    <div class="loading-content">
                        <div class="loading-spinner"></div>
                        <h3>Processing Your Profile...</h3>
                        <p id="loadingStatus">Initializing...</p>
                    </div>
                </div>
            </section>

            <!-- Error Section -->
            <section id="errorSection" class="error-section" style="display: none;">
                <div class="card error-card">
                    <h3>‚ùå Error</h3>
                    <p id="errorMessage"></p>
                    <button id="retryBtn" class="btn btn-secondary">Try Again</button>
                </div>
            </section>

            <!-- Results Section -->
            <section id="resultsSection" class="results-section" style="display: none;">
                <!-- Participant Info Card -->
                <div class="card participant-card">
                    <h2>üë§ Participant Information</h2>
                    <div class="participant-info">
                        <div class="info-item">
                            <span class="info-label">Name:</span>
                            <span class="info-value" id="participantName">-</span>
                        </div>
                        <div class="info-item" id="participantEmailContainer" style="display: none;">
                            <span class="info-label">Email:</span>
                            <span class="info-value" id="participantEmail">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Batch:</span>
                            <span class="info-value" id="participantBatch">-</span>
                        </div>
                    </div>
                </div>

                <!-- Summary Card -->
                <div class="card summary-card">
                    <h2>üéØ Your Results</h2>
                    <div class="summary-grid">
                        <div class="summary-item">
                            <span class="summary-label">Completed Badges</span>
                            <span class="summary-value" id="completedBadgesCount">0</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Completed Games</span>
                            <span class="summary-value" id="completedGamesCount">0</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Overall Progress</span>
                            <span class="summary-value" id="overallProgress">0%</span>
                        </div>
                    </div>
                </div>

                <!-- Progress Card -->
                <div class="card progress-card">
                    <h3>üìà Progress Overview</h3>
                    <div class="progress-container">
                        <div class="progress-item">
                            <div class="progress-header">
                                <span>Badges</span>
                                <span id="badgeProgress">0/0</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="badgeProgressBar" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="progress-item">
                            <div class="progress-header">
                                <span>Games</span>
                                <span id="gameProgress">0/0</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="gameProgressBar" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Completed Items Tabs -->
                <div class="card items-card">
                    <div class="tabs">
                        <button class="tab-btn active" data-tab="badges">
                            üèÜ Badges (<span id="badgeTabCount">0</span>)
                        </button>
                        <button class="tab-btn" data-tab="games">
                            üéÆ Games (<span id="gameTabCount">0</span>)
                        </button>
                    </div>

                    <div class="tab-content">
                        <!-- Badges Tab -->
                        <div id="badgesTab" class="tab-panel active">
                            <div id="badgesList" class="items-list">
                                <!-- Badges will be populated here -->
                            </div>
                        </div>

                        <!-- Games Tab -->
                        <div id="gamesTab" class="tab-panel">
                            <div id="gamesList" class="items-list">
                                <!-- Games will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Actions -->
                <div class="actions">
                    <button id="newCalculationBtn" class="btn btn-primary">üîÑ New Calculation</button>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>&copy; 2025 Google Cloud Skills Boost Calculator | Built for tracking learning progress</p>
        </footer>
    </div>

    <script src="app.js"></script>
    <script type="module">
        import { inject } from 'https://cdn.jsdelivr.net/npm/@vercel/analytics@1/dist/index.mjs';
        import { track } from 'https://cdn.jsdelivr.net/npm/@vercel/analytics@1/dist/index.mjs';
        inject();
        
        // Make track function available globally
        window.vaTrack = track;
    </script>
</body>
</html>